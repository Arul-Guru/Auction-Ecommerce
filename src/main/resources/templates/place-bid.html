<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Place Bid</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
</head>
<body>
    <div class="container">
        <div style="position: absolute; top: 10px; right: 10px;">
            <!-- Logout button -->
            <form th:action="@{/api/v2/logout}" method="post" style="margin: 0;">
                <button type="submit" class="btn btn-danger" style="padding: 5px 10px; border-radius: 5px;">Logout</button>
            </form>
        </div>

        <h1 class="mt-5">Place Bid on Auction</h1>
        
        <div th:if="${auction != null}">
            <h2 th:text="${auction.itemName}">Auction Item</h2>
            <p th:text="${auction.itemDescription}">Item Description</p>
            <p><strong>Starting Bid:</strong> <span th:text="${auction.startingPrice}">0.00</span></p>
            <p><strong>Highest Bid:</strong> <span th:text="${auction.highestBid}">0.00</span></p>
            <p><strong>End Time:</strong> <span th:text="${#temporals.format(auction.endTime, 'yyyy-MM-dd HH:mm:ss')}">End Time</span></p>
        </div>
        
        <form th:action="@{/api/v2/auctions/place-bid}" method="post" class="mt-3">
            <input type="hidden" th:value="${auction.id}" name="auctionId" />
            <div class="form-group">
                <label for="bidAmount">Bid Amount</label>
                <input type="number" step="0.01" id="bidAmount" name="bidAmount" class="form-control" required min="0.01" />
            </div>
            <div class="form-group">
                <div th:if="${errorMessage}" class="alert alert-danger" th:text="${errorMessage}">Error Message</div>
            </div>
            <button type="submit" class="btn btn-primary">Place Bid</button>
            <a th:href="@{/api/v2/auctions/category/{categoryId}(categoryId=${auction.categoryId})}" class="btn btn-secondary">Cancel</a>
        </form>
    </div>
</body>
</html>